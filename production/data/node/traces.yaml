---
classes:
  - roles::tracing
profiles::tracing::tempo: true
profiles::tracing::tempo::compactor_config_hash:
  compactor:
    compaction:
      compaction_window: 1h
      max_compaction_objects: 1000000
      block_retention: 1h
      compacted_block_retention: 10m
profiles::tracing::tempo::distributor_config_hash:
  distributor:
    receivers:
      zipkin:
profiles::tracing::tempo::device: '/dev/sdb'
profiles::tracing::tempo::ingester_config_hash:
  ingester:
    trace_idle_period: 10s
    max_block_duration: 5m
profiles::tracing::tempo::manage_disk: true
profiles::tracing::tempo::multitenancy_enabled: false
profiles::tracing::tempo::server_config_hash:
  server:
    http_listen_port: 3100
profiles::tracing::tempo::storage_config_hash:
  storage:
    trace:
      backend: local
      wal:
        path: /var/lib/tempo/wal
      local:
        path: /var/lib/tempo/blocks
      pool:
        max_workers: 100
        queue_depth: 10000
...
